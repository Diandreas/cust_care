import { Link, Head } from '@inertiajs/react';
import { PageProps } from '@/types';
import { useTranslation } from '@/i18n';
import { useState, useEffect, useRef } from 'react';

export default function Welcome({
                                    auth,
                                    laravelVersion,
                                    phpVersion,
                                }: PageProps<{ laravelVersion: string; phpVersion: string }>) {
    const { t, i18n } = useTranslation();
    const [isScrolled, setIsScrolled] = useState(false);
    const [scrollProgress, setScrollProgress] = useState(0);
    const [currentStory, setCurrentStory] = useState(0);
    const [animatedStats, setAnimatedStats] = useState({
        clients: 0,
        messages: 0,
        satisfaction: 0
    });
    const [visibleSections, setVisibleSections] = useState(new Set());
    const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
    const heroRef = useRef(null);
    const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);

    // D√©tection des pr√©f√©rences de mouvement
    useEffect(() => {
        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
        setPrefersReducedMotion(mediaQuery.matches);

        const handleChange = (e) => setPrefersReducedMotion(e.matches);
        mediaQuery.addEventListener('change', handleChange);
        return () => mediaQuery.removeEventListener('change', handleChange);
    }, []);

    // Suivi du scroll et parallax
    useEffect(() => {
        const handleScroll = () => {
            const scrollY = window.scrollY;
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight - windowHeight;

            setIsScrolled(scrollY > 10);
            setScrollProgress(scrollY / documentHeight);

            // Parallax elements
            if (!prefersReducedMotion) {
                const parallaxElements = document.querySelectorAll('[data-parallax]');
                parallaxElements.forEach(element => {
                    const speed = parseFloat(element.dataset.parallax) || 0.5;
                    const yPos = -(scrollY * speed);
                    element.style.transform = `translateY(${yPos}px)`;
                });
            }
        };

        window.addEventListener('scroll', handleScroll, { passive: true });
        return () => window.removeEventListener('scroll', handleScroll);
    }, [prefersReducedMotion]);

    // Mouse tracking for interactive effects
    useEffect(() => {
        if (prefersReducedMotion) return;

        const handleMouseMove = (e) => {
            setMousePosition({ x: e.clientX, y: e.clientY });
        };

        window.addEventListener('mousemove', handleMouseMove, { passive: true });
        return () => window.removeEventListener('mousemove', handleMouseMove);
    }, [prefersReducedMotion]);

    // Intersection Observer pour les animations d'entr√©e
    useEffect(() => {
        if (prefersReducedMotion) return;

        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        setVisibleSections(prev => new Set([...prev, entry.target.id]));
                    }
                });
            },
            { threshold: 0.1, rootMargin: '50px' }
        );

        document.querySelectorAll('[data-animate]').forEach(el => {
            observer.observe(el);
        });

        return () => observer.disconnect();
    }, [prefersReducedMotion]);

    // Animation des statistiques avec easing
    useEffect(() => {
        if (prefersReducedMotion || !visibleSections.has('stats')) return;

        const animateStats = () => {
            const duration = 2500;
            const targets = { clients: 8500, messages: 500000, satisfaction: 99 };
            const startTime = Date.now();

            const easeOutQuart = (t) => 1 - Math.pow(1 - t, 4);

            const updateStats = () => {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easedProgress = easeOutQuart(progress);

                setAnimatedStats({
                    clients: Math.floor(targets.clients * easedProgress),
                    messages: Math.floor(targets.messages * easedProgress),
                    satisfaction: Math.floor(targets.satisfaction * easedProgress)
                });

                if (progress < 1) {
                    requestAnimationFrame(updateStats);
                }
            };

            requestAnimationFrame(updateStats);
        };

        const timer = setTimeout(animateStats, 200);
        return () => clearTimeout(timer);
    }, [visibleSections, prefersReducedMotion]);

    // Story progression
    useEffect(() => {
        if (prefersReducedMotion) return;

        const interval = setInterval(() => {
            setCurrentStory(prev => (prev + 1) % 4);
        }, 4000);

        return () => clearInterval(interval);
    }, [prefersReducedMotion]);

    const changeLanguage = (lng: string) => {
        i18n.changeLanguage(lng);
        localStorage.setItem('language', lng);
    };

    const storyMessages = [
        {
            business: "Dr. Aminata Diallo",
            message: "Mes patients ne ratent plus jamais leurs RDV depuis HelloBoost ! +40% de pr√©sence aux consultations üë®‚Äç‚öïÔ∏è",
            sector: "M√©dical",
            color: "from-blue-400 to-cyan-500"
        },
        {
            business: "Boutique Fatou",
            message: "Mes ventes ont explos√© ! +65% de CA en 3 mois gr√¢ce aux campagnes intelligentes üõçÔ∏è",
            sector: "Commerce",
            color: "from-emerald-400 to-teal-500"
        },
        {
            business: "Restaurant Le Baobab",
            message: "R√©servations pleines chaque soir ! L'IA personnalise parfaitement mes messages üçΩÔ∏è",
            sector: "Restauration",
            color: "from-orange-400 to-red-500"
        },
        {
            business: "√âcole CERCO",
            message: "Parents et √©tudiants toujours inform√©s ! Communication fluide garantie üéì",
            sector: "√âducation",
            color: "from-violet-400 to-purple-500"
        }
    ];

    return (
        <>
            <Head title="HelloBoost - R√©volutionnez votre Communication SMS" />

            {/* Progress bar */}
            <div className="fixed top-0 left-0 w-full h-1 bg-slate-900/20 z-50">
                <div
                    className="h-full bg-gradient-to-r from-cyan-400 via-blue-500 to-violet-600 transition-all duration-300 ease-out"
                    style={{ width: `${scrollProgress * 100}%` }}
                />
            </div>

            <div className="relative min-h-screen bg-slate-950 text-white overflow-hidden">
                {/* Advanced animated background */}
                <div className="fixed inset-0 overflow-hidden pointer-events-none">
                    {/* Gradient mesh background */}
                    <div className="absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-950/50 to-indigo-950/50" />

                    {/* Dynamic particles */}
                    {!prefersReducedMotion && (
                        <>
                            {[...Array(20)].map((_, i) => (
                                <div
                                    key={i}
                                    className="absolute w-1 h-1 bg-white/20 rounded-full animate-pulse"
                                    style={{
                                        left: `${Math.random() * 100}%`,
                                        top: `${Math.random() * 100}%`,
                                        animationDelay: `${Math.random() * 3}s`,
                                        animationDuration: `${2 + Math.random() * 3}s`
                                    }}
                                />
                            ))}

                            {/* Interactive light effects */}
                            <div
                                className="absolute w-96 h-96 rounded-full opacity-10 transition-all duration-1000 ease-out"
                                style={{
                                    background: 'radial-gradient(circle, rgba(34,211,238,0.3) 0%, transparent 70%)',
                                    left: mousePosition.x - 192,
                                    top: mousePosition.y - 192,
                                    transform: 'translate(-50%, -50%)'
                                }}
                            />
                        </>
                    )}

                    {/* Morphing gradients */}
                    <div className="absolute -top-40 -right-40 w-96 h-96 rounded-full bg-gradient-to-r from-cyan-400/20 to-blue-500/20 blur-3xl animate-pulse"
                         data-parallax="0.3" />
                    <div className="absolute top-1/3 -left-40 w-80 h-80 rounded-full bg-gradient-to-r from-violet-400/15 to-purple-500/15 blur-3xl animate-bounce"
                         style={{ animationDuration: '6s' }} data-parallax="0.5" />
                    <div className="absolute bottom-1/4 right-1/3 w-72 h-72 rounded-full bg-gradient-to-r from-emerald-400/10 to-teal-500/10 blur-3xl animate-pulse"
                         style={{ animationDelay: '2s' }} data-parallax="0.4" />
                </div>

                {/* Glassmorphism Header */}
                <header className={`fixed w-full transition-all duration-700 z-40 ${
                    isScrolled
                        ? 'bg-slate-900/10 backdrop-blur-2xl border-b border-white/10 shadow-2xl'
                        : 'bg-transparent'
                }`}>
                    <div className="container mx-auto px-6 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center group cursor-pointer">
                                <div className="relative">
                                    <div className="h-14 w-14 rounded-3xl bg-gradient-to-tr from-cyan-400 via-blue-500 to-violet-600 flex items-center justify-center shadow-2xl group-hover:scale-110 group-hover:rotate-12 transition-all duration-500">
                                        <span className="text-2xl font-bold">üöÄ</span>
                                    </div>
                                    {!prefersReducedMotion && (
                                        <div className="absolute -inset-2 bg-gradient-to-tr from-cyan-400 via-blue-500 to-violet-600 rounded-3xl blur-lg opacity-20 group-hover:opacity-40 transition-all duration-500" />
                                    )}
                                </div>
                                <span className="ml-4 text-3xl font-bold bg-gradient-to-r from-white via-cyan-200 to-blue-200 bg-clip-text text-transparent">
                                    HelloBoost
                                </span>
                            </div>

                            <div className="flex items-center space-x-6">
                                {/* Language Switcher */}
                                <div className="flex space-x-2 bg-white/5 backdrop-blur-sm rounded-2xl p-1 border border-white/10">
                                    <button
                                        onClick={() => changeLanguage('fr')}
                                        className={`px-4 py-2 rounded-xl transition-all duration-300 ${
                                            i18n.language === 'fr'
                                                ? 'bg-white text-slate-900 shadow-lg transform scale-105'
                                                : 'text-white hover:bg-white/10'
                                        }`}
                                    >
                                        FR
                                    </button>
                                    <button
                                        onClick={() => changeLanguage('en')}
                                        className={`px-4 py-2 rounded-xl transition-all duration-300 ${
                                            i18n.language === 'en'
                                                ? 'bg-white text-slate-900 shadow-lg transform scale-105'
                                                : 'text-white hover:bg-white/10'
                                        }`}
                                    >
                                        EN
                                    </button>
                                </div>

                                {/* Auth Buttons */}
                                {auth.user ? (
                                    <Link
                                        href={route('dashboard')}
                                        className="group relative rounded-2xl bg-gradient-to-r from-cyan-400 to-blue-500 px-6 py-3 text-sm font-semibold text-white shadow-2xl hover:shadow-cyan-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden"
                                    >
                                        <span className="relative z-10">Tableau de bord</span>
                                        {!prefersReducedMotion && (
                                            <div className="absolute inset-0 bg-gradient-to-r from-cyan-500 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                                        )}
                                    </Link>
                                ) : (
                                    <>
                                        <Link
                                            href={route('login')}
                                            className="rounded-2xl border border-white/20 backdrop-blur-sm px-6 py-3 text-sm font-semibold text-white hover:bg-white/10 hover:border-white/40 transition-all duration-300"
                                        >
                                            Connexion
                                        </Link>
                                        <Link
                                            href={route('register')}
                                            className="group relative rounded-2xl bg-gradient-to-r from-cyan-400 to-blue-500 px-6 py-3 text-sm font-semibold text-white shadow-2xl hover:shadow-cyan-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden"
                                        >
                                            <span className="relative z-10">Inscription</span>
                                            {!prefersReducedMotion && (
                                                <div className="absolute inset-0 bg-gradient-to-r from-cyan-500 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                                            )}
                                        </Link>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                </header>

                {/* Hero Section - Storytelling Cinematic */}
                <section ref={heroRef} className="relative min-h-screen flex items-center justify-center pt-20" data-animate id="hero">
                    <div className="container mx-auto px-6">
                        <div className="flex flex-col lg:flex-row items-center min-h-[80vh]">
                            {/* Left: Narrative Content */}
                            <div className="lg:w-1/2 lg:pr-16 space-y-8">
                                {/* Status Badge */}
                                <div className={`inline-flex items-center px-6 py-3 rounded-full bg-gradient-to-r from-cyan-500/20 to-blue-500/20 backdrop-blur-lg border border-cyan-400/30 shadow-2xl ${
                                    visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                }`} style={{ animationDelay: '0.2s' }}>
                                    <div className="w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full mr-3 animate-pulse shadow-lg" />
                                    <span className="text-sm font-semibold bg-gradient-to-r from-cyan-200 to-blue-200 bg-clip-text text-transparent">
                                        üöÄ #1 Plateforme SMS en Afrique de l'Ouest
                                    </span>
                                </div>

                                {/* Main Headline - Storytelling */}
                                <div className={`space-y-4 ${
                                    visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                }`} style={{ animationDelay: '0.4s' }}>
                                    <h1 className="font-black leading-[1.1]">
                                        <span className="block text-6xl lg:text-8xl bg-gradient-to-r from-white via-cyan-200 to-blue-200 bg-clip-text text-transparent mb-2">
                                            Transformez
                                        </span>
                                        <span className="block text-5xl lg:text-7xl bg-gradient-to-r from-cyan-400 via-blue-400 to-violet-400 bg-clip-text text-transparent mb-2">
                                            chaque message
                                        </span>
                                        <span className="block text-4xl lg:text-6xl text-gray-200">
                                            en opportunit√© d'or
                                        </span>
                                    </h1>
                                </div>

                                {/* Value Proposition */}
                                <div className={`space-y-6 ${
                                    visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                }`} style={{ animationDelay: '0.6s' }}>
                                    <p className="text-2xl text-gray-200 leading-relaxed max-w-2xl">
                                        L'intelligence artificielle qui r√©volutionne la communication client en Afrique.
                                        <span className="block mt-2 bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent font-bold">
                                            De 0 √† 10,000 clients engag√©s en moins de 30 jours.
                                        </span>
                                    </p>

                                    {/* Key Benefits */}
                                    <div className="grid grid-cols-2 gap-4 max-w-lg">
                                        {[
                                            { icon: "‚ö°", text: "Activation en 2min", delay: "0.8s" },
                                            { icon: "ü§ñ", text: "IA ultra-intelligente", delay: "0.9s" },
                                            { icon: "üìà", text: "+250% engagement", delay: "1.0s" },
                                            { icon: "üíé", text: "ROI imm√©diat", delay: "1.1s" }
                                        ].map((benefit, index) => (
                                            <div key={index} className={`flex items-center group cursor-pointer ${
                                                visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                            }`} style={{ animationDelay: benefit.delay }}>
                                                <div className="w-12 h-12 rounded-2xl bg-gradient-to-r from-cyan-500/20 to-blue-500/20 backdrop-blur-sm flex items-center justify-center mr-3 group-hover:scale-110 transition-all duration-300 shadow-lg border border-white/10">
                                                    <span className="text-xl">{benefit.icon}</span>
                                                </div>
                                                <span className="text-gray-200 font-medium group-hover:text-white transition-colors duration-300">
                                                    {benefit.text}
                                                </span>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* CTA Buttons */}
                                <div className={`flex flex-col sm:flex-row gap-4 pt-4 ${
                                    visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                }`} style={{ animationDelay: '1.2s' }}>
                                    <Link
                                        href={route('register')}
                                        className="group relative rounded-3xl bg-gradient-to-r from-cyan-400 via-blue-500 to-violet-600 px-10 py-5 text-xl font-bold text-white shadow-2xl hover:shadow-cyan-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden"
                                    >
                                        <span className="relative z-10 flex items-center justify-center">
                                            D√©marrer ma transformation
                                            <span className="ml-3 text-2xl group-hover:translate-x-1 transition-transform duration-300">‚Üí</span>
                                        </span>
                                        {!prefersReducedMotion && (
                                            <>
                                                <div className="absolute inset-0 bg-gradient-to-r from-cyan-500 via-blue-600 to-violet-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                                                <div className="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse" />
                                            </>
                                        )}
                                    </Link>
                                    <button className="group rounded-3xl border-2 border-white/20 backdrop-blur-sm px-10 py-5 text-xl font-semibold text-white hover:bg-white/10 hover:border-white/40 transition-all duration-300">
                                        <span className="flex items-center justify-center">
                                            Voir la d√©mo live
                                            <span className="ml-3 text-2xl group-hover:scale-110 transition-transform duration-300">üé¨</span>
                                        </span>
                                    </button>
                                </div>

                                {/* Trust Indicators */}
                                <div className={`flex items-center space-x-8 pt-8 ${
                                    visibleSections.has('hero') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                                }`} style={{ animationDelay: '1.4s' }}>
                                    <div className="flex items-center">
                                        <span className="text-yellow-400 text-xl mr-2">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                        <span className="text-sm text-gray-400">4.9/5 sur 2,847 avis</span>
                                    </div>
                                    <div className="flex items-center">
                                        <span className="text-green-400 text-lg mr-2">üõ°Ô∏è</span>
                                        <span className="text-sm text-gray-400">S√©curit√© bancaire</span>
                                    </div>
                                </div>
                            </div>

                            {/* Right: Interactive Demo */}
                            <div className="lg:w-1/2 mt-16 lg:mt-0 flex justify-center">
                                <div className="relative">
                                    {/* Main Phone Mockup */}
                                    <div className={`relative w-80 h-auto border-8 border-slate-800 rounded-[3rem] shadow-2xl overflow-hidden transform transition-all duration-1000 ${
                                        visibleSections.has('hero') && !prefersReducedMotion ? 'animate-float' : ''
                                    }`}>
                                        <div className="bg-gradient-to-br from-slate-800 via-purple-900 to-indigo-900 aspect-[9/16] relative overflow-hidden">
                                            {/* Status Bar */}
                                            <div className="absolute top-0 left-0 right-0 h-10 bg-black/30 backdrop-blur-sm flex items-center justify-between px-6">
                                                <div className="flex space-x-1">
                                                    {[...Array(3)].map((_, i) => (
                                                        <div key={i} className="w-1 h-1 bg-white rounded-full animate-pulse"
                                                             style={{ animationDelay: `${i * 0.5}s` }} />
                                                    ))}
                                                </div>
                                                <div className="text-white text-sm font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">
                                                    HelloBoost
                                                </div>
                                                <div className="flex items-center">
                                                    <div className="w-6 h-3 border-2 border-white rounded-sm">
                                                        <div className="w-4 h-1 bg-green-400 rounded-sm" />
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Dynamic Content */}
                                            <div className="absolute inset-0 flex flex-col p-6 pt-16">
                                                {/* Header */}
                                                <div className="bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-lg rounded-2xl p-5 mb-6 border border-white/20 shadow-xl">
                                                    <div className="flex items-center">
                                                        <div className="w-12 h-12 rounded-2xl bg-gradient-to-r from-cyan-400 to-blue-500 mr-4 flex items-center justify-center shadow-lg">
                                                            <span className="text-white font-bold">üöÄ</span>
                                                        </div>
                                                        <div className="flex-1">
                                                            <div className="text-white font-semibold">Campagne Active</div>
                                                            <div className="text-cyan-300 text-sm">+47% d'engagement</div>
                                                        </div>
                                                    </div>
                                                </div>

                                                {/* Story Messages */}
                                                <div className="space-y-4 flex-1">
                                                    <div className={`bg-gradient-to-r ${storyMessages[currentStory].color}/20 backdrop-blur-lg rounded-2xl p-4 border border-white/10 shadow-lg transition-all duration-1000 transform ${
                                                        !prefersReducedMotion ? 'animate-message-slide' : ''
                                                    }`}>
                                                        <div className="flex items-center mb-2">
                                                            <div className={`w-6 h-6 rounded-full bg-gradient-to-r ${storyMessages[currentStory].color} flex items-center justify-center mr-2 text-xs`}>
                                                                {storyMessages[currentStory].sector[0]}
                                                            </div>
                                                            <span className="text-white/70 text-xs font-medium">
                                                                {storyMessages[currentStory].business}
                                                            </span>
                                                        </div>
                                                        <p className="text-white text-sm leading-relaxed">
                                                            {storyMessages[currentStory].message}
                                                        </p>
                                                        <div className="flex items-center justify-between mt-3">
                                                            <span className="text-white/50 text-xs">Maintenant</span>
                                                            <span className="text-green-400 text-xs">‚úÖ Livr√©</span>
                                                        </div>
                                                    </div>

                                                    {/* Analytics Preview */}
                                                    <div className="bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-lg rounded-2xl p-4 border border-white/10">
                                                        <div className="text-white/80 text-xs mb-2">Performances en temps r√©el</div>
                                                        <div className="grid grid-cols-3 gap-2 text-center">
                                                            <div>
                                                                <div className="text-cyan-400 font-bold">98%</div>
                                                                <div className="text-white/60 text-xs">Ouverture</div>
                                                            </div>
                                                            <div>
                                                                <div className="text-emerald-400 font-bold">87%</div>
                                                                <div className="text-white/60 text-xs">Clics</div>
                                                            </div>
                                                            <div>
                                                                <div className="text-violet-400 font-bold">+64%</div>
                                                                <div className="text-white/60 text-xs">ROI</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                {/* Bottom Action */}
                                                <div className="bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-lg rounded-2xl p-4 flex items-center border border-white/20 shadow-xl">
                                                    <div className="flex-1 h-10 bg-gradient-to-r from-white/20 to-white/10 rounded-xl mr-3 flex items-center px-3">
                                                        <span className="text-white/60 text-sm">Tapez votre message...</span>
                                                    </div>
                                                    <div className="w-10 h-10 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-xl shadow-lg flex items-center justify-center">
                                                        <span className="text-white">üì§</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Floating Elements */}
                                    {!prefersReducedMotion && (
                                        <>
                                            <div className="absolute -top-8 -right-8 w-20 h-20 rounded-3xl bg-gradient-to-r from-emerald-400 to-teal-500 shadow-2xl flex items-center justify-center animate-bounce">
                                                <span className="text-3xl">üìä</span>
                                            </div>
                                            <div className="absolute -bottom-8 -left-8 w-24 h-24 rounded-3xl bg-gradient-to-r from-violet-400 to-purple-500 shadow-2xl flex items-center justify-center animate-pulse">
                                                <span className="text-3xl">üéØ</span>
                                            </div>
                                            <div className="absolute top-1/2 -right-10 w-16 h-16 rounded-3xl bg-gradient-to-r from-pink-400 to-rose-500 shadow-xl flex items-center justify-center animate-ping">
                                                <span className="text-2xl">üí¨</span>
                                            </div>
                                        </>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* Stats Section with Morphing Animation */}
                <section className="relative py-32 bg-gradient-to-r from-white/5 to-white/10 backdrop-blur-xl border-y border-white/10"
                         data-animate id="stats">
                    <div className="container mx-auto px-6">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                            {[
                                {
                                    value: animatedStats.clients,
                                    suffix: "+",
                                    label: "Entrepreneurs conquis",
                                    sublabel: "dans toute l'Afrique de l'Ouest",
                                    color: "from-cyan-400 to-blue-500",
                                    icon: "üë•"
                                },
                                {
                                    value: animatedStats.messages,
                                    suffix: "+",
                                    label: "Messages intelligents",
                                    sublabel: "envoy√©s chaque mois",
                                    color: "from-violet-400 to-purple-500",
                                    icon: "üì±"
                                },
                                {
                                    value: animatedStats.satisfaction,
                                    suffix: "%",
                                    label: "Taux de succ√®s",
                                    sublabel: "transformation garantie",
                                    color: "from-emerald-400 to-teal-500",
                                    icon: "‚≠ê"
                                }
                            ].map((stat, index) => (
                                <div key={index} className={`group ${
                                    visibleSections.has('stats') && !prefersReducedMotion ? 'animate-scale-in' : ''
                                }`} style={{ animationDelay: `${index * 0.2}s` }}>
                                    <div className="bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-500">
                                        <div className={`w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-r ${stat.color} flex items-center justify-center text-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`}>
                                            {stat.icon}
                                        </div>
                                        <div className={`text-6xl md:text-7xl font-black bg-gradient-to-r ${stat.color} bg-clip-text text-transparent mb-3 group-hover:scale-110 transition-transform duration-300`}>
                                            {stat.value.toLocaleString()}{stat.suffix}
                                        </div>
                                        <div className="text-xl text-white font-semibold mb-2">{stat.label}</div>
                                        <div className="text-gray-300">{stat.sublabel}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>

                {/* Success Stories - Cinematic Testimonials */}
                <section className="relative py-32 bg-gradient-to-b from-slate-800 to-slate-900 overflow-hidden"
                         data-animate id="testimonials">
                    <div className="container mx-auto px-6 relative z-10">
                        <div className="text-center mb-20">
                            <div className={`inline-flex items-center px-6 py-3 rounded-full bg-gradient-to-r from-emerald-500/20 to-teal-500/20 backdrop-blur-sm border border-emerald-400/30 mb-8 ${
                                visibleSections.has('testimonials') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`}>
                                <span className="text-sm font-semibold bg-gradient-to-r from-emerald-200 to-teal-200 bg-clip-text text-transparent">
                                    üí´ Histoires de transformation
                                </span>
                            </div>
                            <h2 className={`text-6xl font-black mb-6 ${
                                visibleSections.has('testimonials') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`} style={{ animationDelay: '0.2s' }}>
                                <span className="bg-gradient-to-r from-white via-emerald-200 to-teal-200 bg-clip-text text-transparent">
                                    Ils ont transform√© leur business
                                </span>
                            </h2>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            {[
                                {
                                    quote: "HelloBoost a r√©volutionn√© ma clinique ! Mes patients ne manquent plus jamais leurs RDV. +73% de pr√©sence et des patients plus satisfaits.",
                                    author: "Dr. Aminata Diallo",
                                    role: "Chirurgien-Dentiste, Dakar",
                                    avatar: "AD",
                                    color: "from-cyan-400 to-blue-500",
                                    metric: "+73% pr√©sence aux RDV",
                                    time: "En 2 mois"
                                },
                                {
                                    quote: "Incroyable ! Mes ventes ont explos√© gr√¢ce √† l'IA de HelloBoost. Les messages personnalis√©s touchent parfaitement mes clientes.",
                                    author: "Fatou Tour√©",
                                    role: "Propri√©taire Boutique Mode",
                                    avatar: "FT",
                                    color: "from-violet-400 to-purple-500",
                                    metric: "+180% chiffre d'affaires",
                                    time: "En 4 mois"
                                },
                                {
                                    quote: "Restaurant complet tous les soirs ! HelloBoost a automatis√© ma communication et fid√©lis√© ma client√®le comme jamais.",
                                    author: "Ousmane Sow",
                                    role: "Chef Restaurant Le Baobab",
                                    avatar: "OS",
                                    color: "from-emerald-400 to-teal-500",
                                    metric: "+95% taux de retour",
                                    time: "En 3 mois"
                                }
                            ].map((testimonial, index) => (
                                <div key={index} className={`group ${
                                    visibleSections.has('testimonials') && !prefersReducedMotion ? 'animate-slide-up' : ''
                                }`} style={{ animationDelay: `${index * 0.2}s` }}>
                                    <div className="bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-lg rounded-3xl p-8 border border-white/20 hover:border-white/40 shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-500 h-full">
                                        {/* Success Metric */}
                                        <div className={`inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r ${testimonial.color}/20 border border-white/20 mb-6`}>
                                            <span className={`text-sm font-bold bg-gradient-to-r ${testimonial.color} bg-clip-text text-transparent`}>
                                                {testimonial.metric}
                                            </span>
                                            <span className="ml-2 text-xs text-white/60">{testimonial.time}</span>
                                        </div>

                                        {/* Stars */}
                                        <div className="flex mb-4">
                                            {[...Array(5)].map((_, i) => (
                                                <span key={i} className="text-yellow-400 text-xl">‚≠ê</span>
                                            ))}
                                        </div>

                                        {/* Quote */}
                                        <p className="text-gray-200 text-lg leading-relaxed italic mb-8">
                                            "{testimonial.quote}"
                                        </p>

                                        {/* Author */}
                                        <div className="flex items-center">
                                            <div className={`w-14 h-14 rounded-2xl bg-gradient-to-r ${testimonial.color} flex items-center justify-center mr-4 shadow-lg group-hover:scale-110 transition-transform duration-300`}>
                                                <span className="text-white font-bold text-lg">{testimonial.avatar}</span>
                                            </div>
                                            <div>
                                                <p className="font-bold text-white text-lg">{testimonial.author}</p>
                                                <p className="text-gray-400">{testimonial.role}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>

                {/* Final CTA - Urgency & Transformation */}
                <section className="relative py-32 bg-gradient-to-r from-cyan-600 via-blue-700 to-violet-800 overflow-hidden">
                    <div className="absolute inset-0">
                        <div className="absolute top-0 left-0 w-96 h-96 rounded-full bg-white opacity-5 -mt-48 -ml-48 animate-pulse" />
                        <div className="absolute bottom-0 right-0 w-80 h-80 rounded-full bg-white opacity-5 -mb-40 -mr-40 animate-pulse" style={{ animationDelay: '1s' }} />
                    </div>

                    <div className="container mx-auto px-6 text-center relative z-10" data-animate id="final-cta">
                        <div className="max-w-4xl mx-auto">
                            <div className={`inline-flex items-center px-6 py-3 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-8 ${
                                visibleSections.has('final-cta') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`}>
                                <span className="text-sm font-semibold text-white">üî• Derni√®res 48h - Offre limit√©e</span>
                            </div>

                            <h2 className={`text-6xl md:text-7xl font-black text-white mb-8 leading-tight ${
                                visibleSections.has('final-cta') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`} style={{ animationDelay: '0.2s' }}>
                                Votre transformation commence
                                <span className="block bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">
                                    maintenant
                                </span>
                            </h2>

                            <p className={`text-2xl text-blue-100 leading-relaxed max-w-3xl mx-auto mb-12 ${
                                visibleSections.has('final-cta') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`} style={{ animationDelay: '0.4s' }}>
                                Rejoignez les 8,500+ entrepreneurs qui r√©volutionnent leur communication.
                                <span className="block mt-2 font-bold text-white text-3xl">
                                    Premiers r√©sultats garantis en 24h ou rembours√©.
                                </span>
                            </p>

                            <div className={`flex flex-col sm:flex-row gap-6 justify-center items-center mb-8 ${
                                visibleSections.has('final-cta') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`} style={{ animationDelay: '0.6s' }}>
                                <Link
                                    href={route('register')}
                                    className="group relative rounded-3xl bg-white px-12 py-6 text-2xl font-black text-slate-900 shadow-2xl hover:shadow-white/25 transform hover:scale-105 transition-all duration-300 overflow-hidden"
                                >
                                    <span className="relative z-10 flex items-center">
                                        Commencer ma transformation
                                        <span className="ml-3 text-3xl group-hover:translate-x-2 transition-transform duration-300">üöÄ</span>
                                    </span>
                                    {!prefersReducedMotion && (
                                        <div className="absolute inset-0 bg-gradient-to-r from-yellow-200 to-orange-200 opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                                    )}
                                </Link>
                            </div>

                            <div className={`flex flex-wrap justify-center items-center gap-8 text-blue-200 ${
                                visibleSections.has('final-cta') && !prefersReducedMotion ? 'animate-fade-in-up' : ''
                            }`} style={{ animationDelay: '0.8s' }}>
                                <div className="flex items-center">
                                    <span className="text-2xl mr-2">‚ö°</span>
                                    <span className="font-medium">Activation instantan√©e</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-2xl mr-2">üéÅ</span>
                                    <span className="font-medium">100 SMS offerts</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-2xl mr-2">üõ°Ô∏è</span>
                                    <span className="font-medium">Satisfait ou rembours√©</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-2xl mr-2">üìû</span>
                                    <span className="font-medium">Support 24/7</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            {/* Custom Animations CSS */}
            <style jsx>{`
                @keyframes fade-in-up {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                @keyframes scale-in {
                    from {
                        opacity: 0;
                        transform: scale(0.8);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }

                @keyframes slide-up {
                    from {
                        opacity: 0;
                        transform: translateY(50px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                @keyframes float {
                    0%, 100% {
                        transform: translateY(0px);
                    }
                    50% {
                        transform: translateY(-10px);
                    }
                }

                @keyframes message-slide {
                    0% {
                        opacity: 0;
                        transform: translateX(-20px);
                    }
                    100% {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }

                .animate-fade-in-up {
                    animation: fade-in-up 0.8s ease-out forwards;
                    opacity: 0;
                }

                .animate-scale-in {
                    animation: scale-in 0.6s ease-out forwards;
                    opacity: 0;
                }

                .animate-slide-up {
                    animation: slide-up 0.7s ease-out forwards;
                    opacity: 0;
                }

                .animate-float {
                    animation: float 3s ease-in-out infinite;
                }

                .animate-message-slide {
                    animation: message-slide 0.5s ease-out;
                }

                @media (prefers-reduced-motion: reduce) {
                    .animate-fade-in-up,
                    .animate-scale-in,
                    .animate-slide-up,
                    .animate-float,
                    .animate-message-slide {
                        animation: none;
                        opacity: 1;
                        transform: none;
                    }
                }
            `}</style>
        </>
    );
}
